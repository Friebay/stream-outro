<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream Outro</title>
    <link href="https://fonts.googleapis.com/css2?family=Galindo&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="screen" id="black-screen0"></div>
    <div class="screen" id="screen2">
        <img src="{{ url_for('static', filename='images/logo.jpg') }}" style="opacity: 0.8;">
    </div>
    <div class="screen" id="black-screen1"></div>

    <div class="screen" id="screen4">
        <p>Director and Writer</p>
        <p class="big-text">deMiko</p>
    </div>

    <div class="screen" id="black-screen2"></div>

    <div class="screen" id="screen5">
        <p>Starred by</p>
        <p class="big-text">
            deMiko <img src="{{ url_for('static', filename='images/demikoL.webp') }}" class="small-image">
            Sushi <img src="{{ url_for('static', filename='images/sushisL.webp') }}" class="small-image">
        </p>
    </div>

    <div class="screen" id="black-screen3"></div>

    <div id="screen6" class="screen">
        <h2>Stream Statistics</h2>
        <div class="stat-number">
            <p>Total Chatters</p>
            <div class="big-text">{{ chatters_amount }}</div>
        </div>
        <div class="stat-number">
            <p>New Chatters</p>
            <div class="big-text">{{ new_chatters_amount }}</div>
        </div>
        <div class="stat-number">
            <p>Total Messages</p>
            <div class="big-text">{{ message_amount }}</div>
        </div>
    </div>

    <div class="screen" id="black-screen4"></div>

    <div id="screen7" class="screen">
        <h2>Emote Stats</h2>
        <div class="stat-number">
            <p>Unique Emotes</p>
            <div class="big-text">{{ unique_emote_amount }}</div>
        </div>
        <div class="stat-number">
            <p>Total Emotes</p>
            <div class="big-text">{{ emote_amount }}</div>
        </div>
    </div>

    <div class="screen" id="black-screen5"></div>

    <div id="screen8" class="screen">
        <div class="dot-line">
            <span class="role">The Mentioner</span>
            <span class="dots"></span>
            <span class="username">{{ person_who_mentioned_others_the_most_times }}</span>
        </div>
        <div class="dot-line">
            <span class="role">The Emotional</span>
            <span class="dots"></span>
            <span class="username">{{ person_who_typed_the_most_emotes }}</span>
        </div>
    </div>
    
    <div class="screen" id="black-screen6"></div>

    <div class="screen" id="screen9">
        <h2 class="stats-title">Most Messages</h2>
        <div class="chatter-table">
            {% for chatter in top_chatters %}
                {% if loop.index0 % 3 == 0 %}
                    <div class="chatter-row">
                {% endif %}
                
                <div class="chatter-cell">
                    <span class="username-text">{{ chatter.username }}</span>
                    <span class="message-count">{{ chatter.message_amount }}</span>
                </div>
    
                {% if loop.index0 % 3 == 2 or loop.last %}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    
    
    <div class="screen" id="black-screen7"></div>

    <div class="screen" id="screen10">
        <h2 class="stats-title">Top Emotes</h2>
        <div class="emote-table">
            {% for emote in top_emotes %}
                {% if loop.index0 % 3 == 0 %}
                    <div class="emote-row">
                {% endif %}
                
                <div class="emote-cell">
                    <div class="emote-info">
                        <img src="{{ emote.webp }}" alt="{{ emote.name }}" class="small-image">
                        <span class="emote-name">({{ emote.name }})</span>
                    </div>
                    <span class="emote-count">{{ emote.amount }}</span>
                </div>
    
                {% if loop.index0 % 3 == 2 or loop.last %}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    
    
    <div class="screen" id="black-screen8"></div>
    
    <div class="screen" id="screen11">
        <p>We need</p>
        <p class="big-text">{{ subscirber_amount }}</p>
        <p>until deMiko tries hobby horsing</p>
    </div>

    <div class="screen" id="black-screen9"></div>

    <div class="screen">
        <div class="credits">
            {% for chatter in chatters %}
                <p>
                    {{ chatter.timestamp }}
                    <br>
                    {{ chatter.username }}
                </p>
            {% endfor %}
        </div>
    </div>

    <audio id="backgroundMusic" src="{{ url_for('static', filename='songs/Exitlude.mp3') }}" autoplay></audio>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>
